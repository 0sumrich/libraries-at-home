(this["webpackJsonplibraries-at-home"]=this["webpackJsonplibraries-at-home"]||[]).push([[0],{117:function(e){e.exports=JSON.parse('{"postcode_api":"https://api-geography.librarydata.uk/rest/postcodes/","video_api":"https://api.librarydata.uk/services/airtable/feeds/youtube.json","services_api":"https://api.librarydata.uk/services/airtable"}')},121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=(a(93),a(30)),i=a.n(l),s=a(42),m=a(39),u=a(33),d=a(24),p=a(174),h=a(177),b=a(173),f=a(172),E=a(175),g=a(163),v=a(81),y=a(171),x=a(160),w=a(75),k=a.n(w),N=a(76),j=a.n(N),O=a(78),W=a.n(O),C=a(49),_=a.n(C),S=a(79),I=a.n(S),T=a(80),z=a.n(T),F=a(176),D=Object(x.a)((function(e){return{search:{alignContent:"center",textAlign:"center"},subtitle:{textAlign:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"}}}));var L=function(){var e=D();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{component:"h2",variant:"h3",color:"secondary",className:e.subtitle},"Search"),r.a.createElement("div",{className:e.search},r.a.createElement(F.a,{label:"Postcode",id:"txt_postcode",defaultValue:"",className:e.textField,helperText:"Enter your postcode",margin:"normal",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(h.a,{variant:"outlined",color:"primary"},"Go")))},M=a(71),A=a(167),B=a(170),G=a(169),J=a(168),Y=a(179),P=a(166),R=a(165),V=a(73),$=a.n(V),q=a(72),H=a.n(q),K=Object(x.a)((function(e){return{subtitle:{textAlign:"center"},card:{position:"relative"},media:{height:150},overlay:{fontWeight:500,color:"#ffffff",position:"absolute",top:"0px",left:"0px",backgroundColor:"rgba(0, 0, 0, 0.6)",width:"100%"},video:{maxWidth:"100%"}}}));var Q=function(e){var t=this,a=e.videos,c=Object(n.useState)(!1),o=Object(m.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)(""),u=Object(m.a)(s,2),d=u[0],p=u[1],b=K(),f=function(e){i(!0),p("https://www.youtube.com/embed/"+e.replace("yt:video:",""))},E=a.reduce((function(e,t){var a=new Date(t.date),n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();return(e[n]=e[n]||[]).push(t),e}),{});return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{component:"h2",variant:"h3",color:"secondary",className:b.subtitle},"Watch"),Object.keys(E).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{component:"div",disableSticky:!0},H()(e).calendar(null,{lastDay:"[Yesterday]",sameDay:"[New Today]",nextDay:"[Tomorrow]",lastWeek:"[Last] dddd",nextWeek:"dddd",sameElse:"L"})),r.a.createElement(P.a,{container:!0,spacing:3},E[e].map((function(e,a){return r.a.createElement(P.a,{key:"grd_vids_"+a,item:!0,xs:12,sm:6,md:4,lg:4,xl:3},r.a.createElement(A.a,Object(M.a)({className:b.root,variant:"outlined"},"className",b.card),r.a.createElement(J.a,{className:b.media,image:e.custom_elements[0]["media:group"][2]["media:thumbnail"]._attr.url,title:e.title}),r.a.createElement(G.a,{className:b.overlay},r.a.createElement(g.a,{variant:"small",component:"p"},e.title)),r.a.createElement(B.a,null,r.a.createElement(h.a,{size:"small",color:"primary",startIcon:r.a.createElement(_.a,null),onClick:f.bind(t,e.guid)},"Play"),r.a.createElement(h.a,{size:"small",color:"primary",startIcon:r.a.createElement($.a,null)},"Channel"))))}))))})),r.a.createElement(Y.a,{maxWidth:"sm",onClose:function(){i(!1),p("")},"aria-labelledby":"YouTube dialog",open:l},r.a.createElement("iframe",{className:b.video,width:"560",height:"315",src:d,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})))},U=a(74),X=a.n(U),Z=a(117);function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Z.video_api,e.next=3,X.a.get(a);case 3:if(!(n=e.sent)||!n.data){e.next=6;break}return e.abrupt("return",n.data.items);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=Object(v.a)({palette:{primary:k.a,secondary:j.a},overrides:{MuiButton:{text:{textTransform:"none"}},MuiTab:{root:{textTransform:"none"}}}}),ne=Object(x.a)((function(e){return{button:{margin:e.spacing(2)},content:{flexGrow:1,padding:e.spacing(3)},root:{flexGrow:1},title:{margin:e.spacing(3)}}}));var re=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var o=ne();return r.a.createElement(y.a,{theme:ae},r.a.createElement(u.a,null,r.a.createElement("div",{className:o.root},r.a.createElement(f.a,null),r.a.createElement(b.a,{maxWidth:"lg"},r.a.createElement(g.a,{color:"secondary",variant:"h4",component:"h1",className:o.title},"Libraries at home")),r.a.createElement(p.a,{position:"static",color:"default",elevation:0},r.a.createElement(b.a,{maxWidth:"lg"},r.a.createElement(E.a,null,r.a.createElement(h.a,{size:"large",className:o.button,component:u.b,to:"/",color:"primary",onClick:function(){},startIcon:r.a.createElement(W.a,null)},"Search"),r.a.createElement(h.a,{size:"large",className:o.button,component:u.b,to:"/watch",color:"primary",onClick:function(){},startIcon:r.a.createElement(_.a,null)},"Watch"),r.a.createElement(h.a,{size:"large",className:o.button,component:u.b,to:"/read",color:"primary",onClick:function(){},startIcon:r.a.createElement(I.a,null)},"Read"),r.a.createElement(h.a,{size:"large",className:o.button,component:u.b,to:"/listen",color:"primary",onClick:function(){},startIcon:r.a.createElement(z.a,null)},"Listen")))),r.a.createElement(b.a,{maxWidth:"lg"},r.a.createElement("main",{className:o.content},r.a.createElement(d.a,{path:"/",exact:!0,render:function(){return r.a.createElement(L,null)}}),r.a.createElement(d.a,{path:"/watch",exact:!0,render:function(){return r.a.createElement(Q,{videos:a})}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(120);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a(121)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.e93166a1.chunk.js.map